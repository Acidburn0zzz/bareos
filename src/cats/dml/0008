# "WHERE JobId > 0" is a dummy where clause,
#                   to make it easier to extend the filter
#                   (all filters starts with "AND ...")
# JOIN with Media is required for filter to Media.Volumename.
SELECT DISTINCT COUNT(DISTINCT Job.JobId) as count
  FROM Job
  LEFT JOIN Client
 USING (ClientId)
  LEFT JOIN JobMedia
 USING (JobId)
  LEFT JOIN Media
 USING (MediaId)
  LEFT JOIN FileSet
 USING (FileSetId)
 WHERE Job.JobId > 0 %s %s
